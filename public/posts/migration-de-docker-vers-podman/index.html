<!DOCTYPE html>
<html lang="fr">
  <head>
    
      <title>
        Migration de Docker vers Podman ::
        JeremKy.fr
      </title>
    
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta
  name="description"
  content="Docker, ce logiciel incroyable dont je vante les mérites depuis quelques années maintenant, possède une version Windows, Docker Desktop, qui est désormais payante pour une utilisation en entreprise. Certaines rumeurs évoquent la possibilité que Docker finisse par être payant sur l&rsquo;intégralité de leur produit. Il se peut que cela n&rsquo;arrive jamais, mais dans le doute, il m&rsquo;a été nécessaire d&rsquo;envisager des alternatives. Conseillé par mes collègues, je me suis donc intéressé à l&rsquo;application suivante : Podman.
"
/>
<meta
  name="keywords"
  content=""
/>
<meta name="robots" content="noodp" />
<link rel="canonical" href="https://www.jeremky.fr/posts/migration-de-docker-vers-podman/" />







<link rel="stylesheet" href="/css/style.css" />

<link rel="stylesheet" href="https://www.jeremky.fr/style.css" />


<link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://www.jeremky.fr/img/apple-touch-icon-144-precomposed.png" />
<link rel="shortcut icon" href="https://www.jeremky.fr/img/favicon.png" />


<link href="/fonts/Inter-Italic.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">
<link href="/fonts/Inter-Regular.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">
<link href="/fonts/Inter-Medium.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">
<link href="/fonts/Inter-MediumItalic.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">
<link href="/fonts/Inter-Bold.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">
<link href="/fonts/Inter-BoldItalic.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">



  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Migration de Docker vers Podman">
  <meta name="twitter:description" content="Docker, ce logiciel incroyable dont je vante les mérites depuis quelques années maintenant, possède une version Windows, Docker Desktop, qui est désormais payante pour une utilisation en entreprise. Certaines rumeurs évoquent la possibilité que Docker finisse par être payant sur l’intégralité de leur produit. Il se peut que cela n’arrive jamais, mais dans le doute, il m’a été nécessaire d’envisager des alternatives. Conseillé par mes collègues, je me suis donc intéressé à l’application suivante : Podman.">



<meta property="og:url" content="https://www.jeremky.fr/posts/migration-de-docker-vers-podman/">
  <meta property="og:site_name" content="JeremKy.fr">
  <meta property="og:title" content="Migration de Docker vers Podman">
  <meta property="og:description" content="Docker, ce logiciel incroyable dont je vante les mérites depuis quelques années maintenant, possède une version Windows, Docker Desktop, qui est désormais payante pour une utilisation en entreprise. Certaines rumeurs évoquent la possibilité que Docker finisse par être payant sur l’intégralité de leur produit. Il se peut que cela n’arrive jamais, mais dans le doute, il m’a été nécessaire d’envisager des alternatives. Conseillé par mes collègues, je me suis donc intéressé à l’application suivante : Podman.">
  <meta property="og:locale" content="fr">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-09-26T17:43:20+02:00">
    <meta property="article:modified_time" content="2024-09-26T17:43:20+02:00">
    <meta property="article:tag" content="Podman">






  </head>
  <body >
    <div class="container">
      <header class="header">
  <span class="header__inner">
    <a
  href="/"
  class="logo"
  style="text-decoration: none;"
>
  
    <span class="logo__mark"><svg xmlns="http://www.w3.org/2000/svg" class="greater-icon" viewBox="0 0 44 44">
  <path fill="none" d="M15 8l14.729 14.382L15 35.367" />
</svg>
</span>
    <span class="logo__text"
      >JEREMKY.FR</span
    >
    <span class="logo__cursor"></span>
  
</a>

    <span class="header__right">
      
        <nav class="menu">
  <ul class="menu__inner menu__inner--desktop">
    
      
        
          <li><a href="/apropos">A propos</a></li>
        
      
        
          <li><a href="/archives">Archives</a></li>
        
      
        
          <li><a href="/categories/news">News</a></li>
        
      
        
          <li><a href="/categories/tutos">Tutos</a></li>
        
      
      
      
  </ul>

  <ul class="menu__inner menu__inner--mobile">
    
      
        <li><a href="/apropos">A propos</a></li>
      
    
      
        <li><a href="/archives">Archives</a></li>
      
    
      
        <li><a href="/categories/news">News</a></li>
      
    
      
        <li><a href="/categories/tutos">Tutos</a></li>
      
    
  </ul>
</nav>

        <span class="menu-trigger">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M0 0h24v24H0z" fill="none" />
            <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z" />
          </svg>
        </span>
      
      <span class="theme-toggle">
        <svg
  class="theme-toggler"
  width="24"
  height="24"
  viewBox="0 0 48 48"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    d="M22 41C32.4934 41 41 32.4934 41 22C41 11.5066 32.4934 3 22
  3C11.5066 3 3 11.5066 3 22C3 32.4934 11.5066 41 22 41ZM7 22C7
  13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22Z"
  />
</svg>

      </span>
    </span>
  </span>
</header>


      <div class="content">
        
  
  

  <article class="post">
    <h1 class="post-title">Migration de Docker vers Podman</h1>
    <div class="post-meta">
      
        <time class="post-date">
          26/09/2024
        </time>

        
          
        
      

      


      
        <span class="post-read-time"
          >— 3 min de lecture</span
        >
      
    </div>

    
      <span class="post-tags">
        
          <a href="https://www.jeremky.fr/tags/podman/">#podman</a>&nbsp;
        
      </span>
    

    
      <figure class="post-cover">
  
    <img src="https://www.jeremky.fr/img/posts/migration-de-docker-vers-podman/cover.webp" alt="Migration de Docker vers Podman" width="700" />
  

  
</figure>

    

    <div class="post-content">
      
        
        <h2>Sommaire</h2>
        <aside class="table-of-contents"><nav id="TableOfContents">
  <ul>
    <li><a href="#ca-change-quoi-">Ca change quoi ?</a></li>
    <li><a href="#préparation-de-la-migration">Préparation de la migration</a>
      <ul>
        <li><a href="#alias">Alias</a></li>
      </ul>
    </li>
    <li><a href="#ajout-du-registry-docker">Ajout du registry Docker</a></li>
    <li><a href="#paramétrage-de-ufw">Paramétrage de UFW</a></li>
    <li><a href="#jdockersh">jdocker.sh</a></li>
    <li><a href="#conclusion">Conclusion</a></li>
  </ul>
</nav></aside>
        
      
      <p><a href="https://www.docker.com/">Docker</a>, ce logiciel incroyable dont je vante les mérites depuis quelques années maintenant, possède une version Windows, <a href="https://www.docker.com/">Docker Desktop</a>, qui est désormais payante pour une utilisation en entreprise. Certaines rumeurs évoquent la possibilité que Docker finisse par être payant sur l&rsquo;intégralité de leur produit. Il se peut que cela n&rsquo;arrive jamais, mais dans le doute, il m&rsquo;a été nécessaire d&rsquo;envisager des alternatives. Conseillé par mes collègues, je me suis donc intéressé à l&rsquo;application suivante : <a href="https://podman.io/">Podman</a>.</p>
<p>D&rsquo;après Wikipedia :</p>
<blockquote>
<p><em>Podman est un logiciel libre permettant de lancer des applications dans des conteneurs logiciels. Il s’agit d’une alternative à Docker, qui permet de lancer les commandes sans les permissions root. À l’inverse de Docker, Podman n’intègre pas de daemon nécessaire à son fonctionnement.</em></p></blockquote>
<h2 id="ca-change-quoi-">
  Ca change quoi ?
  <a href="#ca-change-quoi-" class="h-anchor" aria-hidden="true">#</a>
</h2>
<p>Les changements entre les 2 solutions sont minimes. En réalité, Docker et Podman se basent sur certaines applications de plus bas niveau. Tout d&rsquo;abord, <a href="https://fr.wikipedia.org/wiki/Seccomp">seccomp</a>, pour gérer le lien avec le noyau Linux, et <a href="https://github.com/opencontainers/runc">runc</a>, pour la création et l&rsquo;exécution des conteneurs. Docker et Podman partagent donc globalement le même fonctionnement.</p>
<p>La force de Podman, se situe surtout dans sa capacité à pouvoir fonctionner en mode rootless, bien plus logique sur un poste de travail. La migration présentée dans cet article restera toutefois avec une utilisation en tant que <code>root</code>, afin d&rsquo;être la plus transparente possible.</p>
<h2 id="préparation-de-la-migration">
  Préparation de la migration
  <a href="#pr%c3%a9paration-de-la-migration" class="h-anchor" aria-hidden="true">#</a>
</h2>
<p>Tout d&rsquo;abord, il est nécessaire de supprimer tous les conteneurs installés par Docker. Ensuite, il faut supprimer les packages et les dépendances. Si vous avez suivi mes tutos, cela se fait via la commande suivante :</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo apt remove docker.io docker-compose <span style="color:#f92672">&amp;&amp;</span> sudo apt autoremove
</span></span></code></pre></div><p>Maintenant, on peut passer à l&rsquo;installation de Podman :</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo apt install podman podman-compose
</span></span></code></pre></div><h3 id="alias">
  Alias
  <a href="#alias" class="h-anchor" aria-hidden="true">#</a>
</h3>
<p>Si vous avez l&rsquo;habitude d&rsquo;utiliser la commande <code>docker</code>, vous pouvez ajouter des liens symboliques pour qu&rsquo;ils pointent vers podman :</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo ln -s /usr/bin/podman /usr/bin/docker
</span></span><span style="display:flex;"><span>sudo ln -s /usr/bin/podman-compose /usr/bin/docker-compose
</span></span></code></pre></div><h2 id="ajout-du-registry-docker">
  Ajout du registry Docker
  <a href="#ajout-du-registry-docker" class="h-anchor" aria-hidden="true">#</a>
</h2>
<p>Afin de pouvoir rechercher des images sur le <a href="https://hub.docker.com/">Docker Hub</a> à partir de la commande <code>podman search</code>, il faut ajouter une configuration à Podman.</p>
<p>Pour cela, modifiez la ligne suivante dans le fichier <code>/etc/containers/registries.conf</code> :</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-txt" data-lang="txt"><span style="display:flex;"><span># unqualified-search-registries = [&#34;exemple.com&#34;]
</span></span></code></pre></div><p>Et remplacez là par :</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-txt" data-lang="txt"><span style="display:flex;"><span>unqualified-search-registries = [&#34;docker.io&#34;]
</span></span></code></pre></div><h2 id="paramétrage-de-ufw">
  Paramétrage de UFW
  <a href="#param%c3%a9trage-de-ufw" class="h-anchor" aria-hidden="true">#</a>
</h2>
<p>Si vous utilisez UFW comme Firewall, vous avez dû remarquer qu&rsquo;aucune configuration n&rsquo;est nécessaire pour Docker. Avec Podman, quelques opérations supplémentaires sont à effectuer pour permettre l&rsquo;accès à vos conteneurs.</p>
<p>Tout d&rsquo;abord, il faut autoriser les redirections :</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo ufw default allow FORWARD
</span></span></code></pre></div><p>Ensuite, si vos conteneurs communiquent entre eux par leur nom (utilisé avec le <a href="/posts/reverse-proxy-nginx/">reverse proxy</a> par exemple), vous devez autoriser la communication sur le réseau de podman :</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo ufw allow in on podman1
</span></span></code></pre></div><blockquote>
<p>Le script <a href="https://github.com/jeremky/aptinstall.sh">aptinstall.sh</a> a été mis à jour en conséquence.</p></blockquote>
<h2 id="jdockersh">
  jdocker.sh
  <a href="#jdockersh" class="h-anchor" aria-hidden="true">#</a>
</h2>
<p>Ce script avait été créé pour faciliter l&rsquo;utilisation de Docker. Ce dernier a été transformé pour fonctionner maintenant avec Docker et Podman. La plupart des commandes sont identiques. Vous y trouverez également des exemples de fichiers <code>compose.yml</code> adaptés à Podman.</p>
<p>Pour récupérer la nouvelle version, <a href="https://github.com/jeremky/jdocker.sh">c&rsquo;est ici</a>.</p>
<h2 id="conclusion">
  Conclusion
  <a href="#conclusion" class="h-anchor" aria-hidden="true">#</a>
</h2>
<p>Podman a été conçu en gardant l&rsquo;idée de nous faciliter la migration depuis Docker. Il arrive cependant que quelques particularités soient dissimulées ici ou là. Je tâcherai de mettre à jour les fichiers de configurations docker-compose.yml présents dans les articles de ce site en fonction.</p>
<p>Pour différencier les articles à jour, vous n&rsquo;aurez qu&rsquo;à vérifier la présence du tag <a href="/tags/podman/">#podman</a> sous le titre de chaque article. La configuration sera alors commune aux 2 applications.</p>
<p>Dans le cas où vous changerez de solution, je vous souhaite une bonne migration !</p>

    </div>
    
      
        <div class="pagination">
          <div class="pagination__title">
            <span class="pagination__title-h"
              >Autres posts</span
            >
            <hr />
          </div>
          <div class="pagination__buttons">
            
              <span class="button previous">
                <a href="https://www.jeremky.fr/posts/reecriture-des-articles-docker/">
                  <span class="button__icon">←</span>
                  <span class="button__text">Réécriture des articles au sujet de Docker</span>
                </a>
              </span>
            
            
              <span class="button next">
                <a href="https://www.jeremky.fr/posts/mise-a-jour-de-ma-config-vi/">
                  <span class="button__text">Mise à jour de ma configuration Vi</span>
                  <span class="button__icon">→</span>
                </a>
              </span>
            
          </div>
        </div>
      
    

    
      
        

      
    
  </article>

      </div>

      
        <footer class="footer">
  <div class="footer__inner">
    
      <a
  href="/"
  class="logo"
  style="text-decoration: none;"
>
  
    <span class="logo__mark"><svg xmlns="http://www.w3.org/2000/svg" class="greater-icon" viewBox="0 0 44 44">
  <path fill="none" d="M15 8l14.729 14.382L15 35.367" />
</svg>
</span>
    <span class="logo__text"
      >JEREMKY.FR</span
    >
    <span class="logo__cursor"></span>
  
</a>

      <div class="copyright">
          <div class="copyright">
        <span>© 2025 Propulsé par <a href="https://gohugo.io" target="_blank" rel="noopener">Hugo</a></span>
      </div>
    
  </div>
</footer>





<script type="text/javascript" src="/bundle.min.js"></script>


      
    </div>

    
  </body>
</html>
