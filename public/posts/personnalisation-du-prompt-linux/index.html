<!DOCTYPE html>
<html lang="fr">
  <head>
    
      <title>
        Personnalisation du prompt Linux ::
        JeremKy.fr
      </title>
    
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta
  name="description"
  content="Après avoir partagé mes configurations de Vi, c&rsquo;est au tour de ma personnalisation des prompts Linux, le shell. Il sert d&rsquo;interface entre l&rsquo;utilisateur et le système d&rsquo;exploitation. Différents shells existent, comme bash, zsh, fish&hellip; Mais bash étant par défaut sur la plupart des distributions Linux, c&rsquo;est sur ce dernier que je vais me focaliser.
Explication # Au démarrage d&rsquo;une session shell, différents fichiers se chargent automatiquement. Cela permet de charger les configurations nécessaires au fonctionnement du prompt, comme son apparence, les variables d&rsquo;environnement&hellip;
"
/>
<meta
  name="keywords"
  content=""
/>
<meta name="robots" content="noodp" />
<link rel="canonical" href="https://www.jeremky.fr/posts/personnalisation-du-prompt-linux/" />







<link rel="stylesheet" href="/css/style.css" />

<link rel="stylesheet" href="https://www.jeremky.fr/style.css" />


<link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://www.jeremky.fr/img/apple-touch-icon-144-precomposed.png" />
<link rel="shortcut icon" href="https://www.jeremky.fr/img/favicon.png" />


<link href="/fonts/Inter-Italic.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">
<link href="/fonts/Inter-Regular.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">
<link href="/fonts/Inter-Medium.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">
<link href="/fonts/Inter-MediumItalic.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">
<link href="/fonts/Inter-Bold.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">
<link href="/fonts/Inter-BoldItalic.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">



  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Personnalisation du prompt Linux">
  <meta name="twitter:description" content="Après avoir partagé mes configurations de Vi, c’est au tour de ma personnalisation des prompts Linux, le shell. Il sert d’interface entre l’utilisateur et le système d’exploitation. Différents shells existent, comme bash, zsh, fish… Mais bash étant par défaut sur la plupart des distributions Linux, c’est sur ce dernier que je vais me focaliser.
Explication # Au démarrage d’une session shell, différents fichiers se chargent automatiquement. Cela permet de charger les configurations nécessaires au fonctionnement du prompt, comme son apparence, les variables d’environnement…">



<meta property="og:url" content="https://www.jeremky.fr/posts/personnalisation-du-prompt-linux/">
  <meta property="og:site_name" content="JeremKy.fr">
  <meta property="og:title" content="Personnalisation du prompt Linux">
  <meta property="og:description" content="Après avoir partagé mes configurations de Vi, c’est au tour de ma personnalisation des prompts Linux, le shell. Il sert d’interface entre l’utilisateur et le système d’exploitation. Différents shells existent, comme bash, zsh, fish… Mais bash étant par défaut sur la plupart des distributions Linux, c’est sur ce dernier que je vais me focaliser.
Explication # Au démarrage d’une session shell, différents fichiers se chargent automatiquement. Cela permet de charger les configurations nécessaires au fonctionnement du prompt, comme son apparence, les variables d’environnement…">
  <meta property="og:locale" content="fr">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-05-02T17:13:12+00:00">
    <meta property="article:modified_time" content="2024-05-02T17:13:12+00:00">
    <meta property="article:tag" content="Linux">






  </head>
  <body >
    <div class="container">
      <header class="header">
  <span class="header__inner">
    <a
  href="/"
  class="logo"
  style="text-decoration: none;"
>
  
    <span class="logo__mark"><svg xmlns="http://www.w3.org/2000/svg" class="greater-icon" viewBox="0 0 44 44">
  <path fill="none" d="M15 8l14.729 14.382L15 35.367" />
</svg>
</span>
    <span class="logo__text"
      >JEREMKY.FR</span
    >
    <span class="logo__cursor"></span>
  
</a>

    <span class="header__right">
      
        <nav class="menu">
  <ul class="menu__inner menu__inner--desktop">
    
      
        
          <li><a href="/apropos">A propos</a></li>
        
      
        
          <li><a href="/archives">Archives</a></li>
        
      
        
          <li><a href="/categories/news">News</a></li>
        
      
        
          <li><a href="/categories/tutos">Tutos</a></li>
        
      
      
      
  </ul>

  <ul class="menu__inner menu__inner--mobile">
    
      
        <li><a href="/apropos">A propos</a></li>
      
    
      
        <li><a href="/archives">Archives</a></li>
      
    
      
        <li><a href="/categories/news">News</a></li>
      
    
      
        <li><a href="/categories/tutos">Tutos</a></li>
      
    
  </ul>
</nav>

        <span class="menu-trigger">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M0 0h24v24H0z" fill="none" />
            <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z" />
          </svg>
        </span>
      
      <span class="theme-toggle">
        <svg
  class="theme-toggler"
  width="24"
  height="24"
  viewBox="0 0 48 48"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    d="M22 41C32.4934 41 41 32.4934 41 22C41 11.5066 32.4934 3 22
  3C11.5066 3 3 11.5066 3 22C3 32.4934 11.5066 41 22 41ZM7 22C7
  13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22Z"
  />
</svg>

      </span>
    </span>
  </span>
</header>


      <div class="content">
        
  
  

  <article class="post">
    <h1 class="post-title">Personnalisation du prompt Linux</h1>
    <div class="post-meta">
      
        <time class="post-date">
          02/05/2024
        </time>

        
          
        
      

      


      
        <span class="post-read-time"
          >— 7 min de lecture</span
        >
      
    </div>

    
      <span class="post-tags">
        
          <a href="https://www.jeremky.fr/tags/linux/">#linux</a>&nbsp;
        
      </span>
    

    
      <figure class="post-cover">
  
    <img src="https://www.jeremky.fr/img/posts/personnalisation-du-prompt-linux/cover.webp" alt="Personnalisation du prompt Linux" width="700" />
  

  
</figure>

    

    <div class="post-content">
      
        
        <h2>Sommaire</h2>
        <aside class="table-of-contents"><nav id="TableOfContents">
  <ul>
    <li><a href="#explication">Explication</a></li>
    <li><a href="#fichier-bash_aliases">Fichier .bash_aliases</a></li>
    <li><a href="#petit-bonus--les-aliases-de-scripts">Petit bonus : les aliases de scripts</a></li>
  </ul>
</nav></aside>
        
      
      <p>Après avoir partagé mes configurations de Vi, c&rsquo;est au tour de ma personnalisation des prompts Linux, le shell. Il sert d&rsquo;interface entre l&rsquo;utilisateur et le système d&rsquo;exploitation. Différents shells existent, comme bash, zsh, fish&hellip; Mais bash étant par défaut sur la plupart des distributions Linux, c&rsquo;est sur ce dernier que je vais me focaliser.</p>
<h2 id="explication">
  Explication
  <a href="#explication" class="h-anchor" aria-hidden="true">#</a>
</h2>
<p>Au démarrage d&rsquo;une session shell, différents fichiers se chargent automatiquement. Cela permet de charger les configurations nécessaires au fonctionnement du prompt, comme son apparence, les variables d&rsquo;environnement&hellip;</p>
<p>Dans le home directory, se trouvent des fichiers cachés contenant ces informations :</p>
<ul>
<li>le fichier <code>.profile</code>, pour déterminer l&rsquo;emplacement des binaires/commandes que l&rsquo;on utilise, et le shell qui est utilisé (dans notre cas, bash)</li>
<li>le fichier <code>.bashrc</code>, pour configurer bash (l&rsquo;apparence du prompt, la longueur de l&rsquo;historique des commandes, le chargement des complétions de commandes&hellip;)</li>
</ul>
<h2 id="fichier-bash_aliases">
  Fichier .bash_aliases
  <a href="#fichier-bash_aliases" class="h-anchor" aria-hidden="true">#</a>
</h2>
<p>Le fichier <code>.bashrc</code> est préconfiguré pour charger un fichier personnalisé, appelé <code>.bash_aliases</code>. C&rsquo;est ce dernier que nous allons créer et y ajouter nos personnalisations, notamment les aliases, qui permettent de se créer des &ldquo;raccourcis&rdquo; de commande, ou des fonctions. Le fichier est lu comme un script, il est donc possible d&rsquo;y placer des conditions, ou des boucles.</p>
<p>Là encore, le plus simple, c&rsquo;est que je vous partage le fichier que j&rsquo;utilise. Il est utilisable aussi bien pour votre user que pour root. Attention dans ce cas, le fichier ne se charge pas par défaut. Il faut ajouter dans le fichier <code>.bashrc</code> de root les lignes suivantes :</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Alias definitions.</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> <span style="color:#f92672">[</span> -f ~/.bash_aliases <span style="color:#f92672">]</span>; <span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span>    . ~/.bash_aliases
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">fi</span>
</span></span></code></pre></div><p>Mon fichier <code>.bash_aliases</code> se divise en plusieurs parties :</p>
<ul>
<li>La définition de certaines variables d&rsquo;environnement (langue, éditeur par défaut)</li>
<li>Un paramètre pour ignorer la casse lors de la saisie (remplace automatiquement les caractères concernés lors d&rsquo;une tabulation)</li>
<li>La gestion de sudo (pour la suite du fichier, et pour faire <code>su</code> au lieu de <code>sudo -s</code> pour passer root)</li>
<li>La liste des aliases de base que j&rsquo;utilise</li>
<li>Des aliases supplémentaires pour des applications spécifiques, chargés uniquement si les applications sont installées</li>
<li>Quelques fonctions, dans le cas où un simple alias est trop limitant</li>
</ul>
<p>Vous pouvez le récupérer directement sur github en suivant <a href="https://github.com/jeremky/envbackup.sh/blob/main/dotfiles/.bash_aliases">ce lien</a>.</p>
<p>Le contenu du fichier :</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e">###### Aliases ######</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">## Variables</span>
</span></span><span style="display:flex;"><span>export LANG<span style="color:#f92672">=</span>fr_FR.UTF-8
</span></span><span style="display:flex;"><span>export LANGUAGE<span style="color:#f92672">=</span>$LANG
</span></span><span style="display:flex;"><span>export LC_ALL<span style="color:#f92672">=</span>$LANG
</span></span><span style="display:flex;"><span>export EDITOR<span style="color:#f92672">=</span>vi
</span></span><span style="display:flex;"><span>export VISUAL<span style="color:#f92672">=</span>$EDITOR
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">## Tweaks</span>
</span></span><span style="display:flex;"><span>bind <span style="color:#e6db74">&#39;set completion-ignore-case on&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">## Sudo</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> <span style="color:#f92672">[</span> -f /usr/bin/sudo <span style="color:#f92672">]</span> <span style="color:#f92672">&amp;&amp;</span> <span style="color:#f92672">[</span> <span style="color:#e6db74">&#34;</span>$USER<span style="color:#e6db74">&#34;</span> !<span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;root&#34;</span> <span style="color:#f92672">]</span> ; <span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span>    alias su<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;sudo -s&#39;</span>
</span></span><span style="display:flex;"><span>    sudo<span style="color:#f92672">=</span>sudo
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>    alias su<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;su -&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">fi</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">## Aliases</span>
</span></span><span style="display:flex;"><span>alias l<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;ls -lh&#39;</span>
</span></span><span style="display:flex;"><span>alias la<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;ls -lhA&#39;</span>
</span></span><span style="display:flex;"><span>alias lr<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;ls -lLhR&#39;</span>
</span></span><span style="display:flex;"><span>alias lra<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;ls -lRha&#39;</span>
</span></span><span style="display:flex;"><span>alias lrt<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;ls -lLhrt&#39;</span>
</span></span><span style="display:flex;"><span>alias lart<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;ls -lLhArt&#39;</span>
</span></span><span style="display:flex;"><span>alias grep<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;grep -i --color=auto&#39;</span>
</span></span><span style="display:flex;"><span>alias zgrep<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;zgrep -i --color=auto&#39;</span>
</span></span><span style="display:flex;"><span>alias vi<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;vi -nO&#39;</span>
</span></span><span style="display:flex;"><span>alias view<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;vi -nRO&#39;</span>
</span></span><span style="display:flex;"><span>alias df<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;df -h -x overlay -x tmpfs -x devtmpfs&#39;</span>
</span></span><span style="display:flex;"><span>alias psp<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;ps -eaf | grep -v grep | grep&#39;</span>
</span></span><span style="display:flex;"><span>alias iostat<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;iostat -m --human&#39;</span>
</span></span><span style="display:flex;"><span>alias ifconfig<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;ip -br -c addr | grep -v lo&#39;</span>
</span></span><span style="display:flex;"><span>alias netstat<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;ss -lpn&#39;</span>
</span></span><span style="display:flex;"><span>alias ss<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;ss -tunlH&#39;</span>
</span></span><span style="display:flex;"><span>alias ssp<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;ss -tunl | grep&#39;</span>
</span></span><span style="display:flex;"><span>alias md5<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;md5sum &lt;&lt;&lt;&#39;</span>
</span></span><span style="display:flex;"><span>alias pubip<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;curl -s -4 ipecho.net/plain ; echo&#39;</span>
</span></span><span style="display:flex;"><span>alias upgrade<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;$sudo apt update &amp;&amp; $sudo apt full-upgrade &amp;&amp; $sudo apt -y autoremove&#39;</span>
</span></span><span style="display:flex;"><span>alias wget<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;wget --no-check-certificate&#39;</span>
</span></span><span style="display:flex;"><span>alias newuser<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;$sudo adduser --no-create-home -q --disabled-password --gecos &#34;&#34;&#39;</span>
</span></span><span style="display:flex;"><span>alias halt<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;$sudo halt -p&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">## Ssh</span>
</span></span><span style="display:flex;"><span>alias genkey<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;ssh-keygen -t ed25519 -a 100&#39;</span>
</span></span><span style="display:flex;"><span>alias genkeyrsa<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;ssh-keygen -t rsa -b 4096 -a 100&#39;</span>
</span></span><span style="display:flex;"><span>alias copykey<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;ssh-copy-id&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">## Top</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> <span style="color:#f92672">[</span> -f /usr/bin/htop <span style="color:#f92672">]</span> ; <span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span>    alias top<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;htop&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">fi</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">## Ncdu</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> <span style="color:#f92672">[</span> -f /usr/bin/ncdu <span style="color:#f92672">]</span> ; <span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span>    alias ncdu<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;ncdu --color dark&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">fi</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">## Ufw</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> <span style="color:#f92672">[</span> -f /usr/sbin/ufw <span style="color:#f92672">]</span> ; <span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span>    alias ufw<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;$sudo ufw&#39;</span>
</span></span><span style="display:flex;"><span>    alias ufws<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;$sudo ufw status numbered&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">fi</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">## Diff</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> <span style="color:#f92672">[</span> -f /usr/bin/colordiff <span style="color:#f92672">]</span> ; <span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span>    alias diff<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;colordiff&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">fi</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">## Df</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> <span style="color:#f92672">[</span> -f /usr/bin/duf <span style="color:#f92672">]</span> ; <span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span>    alias df<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;duf --hide special&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">fi</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">## Ripgrep</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> <span style="color:#f92672">[</span> -f /usr/bin/rg <span style="color:#f92672">]</span> ; <span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span>    alias rg<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;rg -i&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">fi</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">## Docker</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> <span style="color:#f92672">[</span> -f /usr/bin/docker <span style="color:#f92672">]</span> ; <span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span>    alias docker<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;$sudo docker&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">fi</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">## Lazydocker</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> <span style="color:#f92672">[</span> -f /usr/bin/lazydocker <span style="color:#f92672">]</span> ; <span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span>    alias lzd<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;$sudo lazydocker&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">fi</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">## Fonctions</span>
</span></span><span style="display:flex;"><span>cpsave<span style="color:#f92672">()</span> <span style="color:#f92672">{</span> cp -Rp $1 <span style="color:#e6db74">&#34;</span><span style="color:#66d9ef">$(</span>echo $1 | cut -d <span style="color:#e6db74">&#39;/&#39;</span> -f 1<span style="color:#66d9ef">)</span><span style="color:#e6db74">&#34;</span>.old ;<span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>zip<span style="color:#f92672">()</span> <span style="color:#f92672">{</span> /usr/bin/zip -r <span style="color:#e6db74">&#34;</span><span style="color:#66d9ef">$(</span>echo $1 | cut -d <span style="color:#e6db74">&#39;/&#39;</span> -f <span style="color:#ae81ff">1</span> | cut -d <span style="color:#e6db74">&#39;.&#39;</span> -f 1<span style="color:#66d9ef">)</span><span style="color:#e6db74">&#34;</span>.zip <span style="color:#e6db74">&#34;</span>$*<span style="color:#e6db74">&#34;</span> ;<span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>tarc<span style="color:#f92672">()</span> <span style="color:#f92672">{</span> <span style="color:#66d9ef">for</span> file in $* ; <span style="color:#66d9ef">do</span> tar czvf <span style="color:#e6db74">&#34;</span><span style="color:#66d9ef">$(</span>echo $file | cut -d <span style="color:#e6db74">&#39;/&#39;</span> -f 1<span style="color:#66d9ef">)</span><span style="color:#e6db74">&#34;</span>.tar.gz $file ; <span style="color:#66d9ef">done</span> ;<span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>tarx<span style="color:#f92672">()</span> <span style="color:#f92672">{</span> <span style="color:#66d9ef">for</span> file in $* ; <span style="color:#66d9ef">do</span> tar xzvf $file ; <span style="color:#66d9ef">done</span> ;<span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>gpgc<span style="color:#f92672">()</span> <span style="color:#f92672">{</span> gpg -c <span style="color:#e6db74">&#34;</span>$1<span style="color:#e6db74">&#34;</span> ;<span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>gpgd<span style="color:#f92672">()</span> <span style="color:#f92672">{</span> <span style="color:#66d9ef">for</span> file in $* ; <span style="color:#66d9ef">do</span> gpg -o <span style="color:#e6db74">&#34;</span><span style="color:#66d9ef">$(</span>basename <span style="color:#e6db74">&#34;</span>$file<span style="color:#e6db74">&#34;</span> .gpg<span style="color:#66d9ef">)</span><span style="color:#e6db74">&#34;</span> -d <span style="color:#e6db74">&#34;</span>$file<span style="color:#e6db74">&#34;</span> ; <span style="color:#66d9ef">done</span> ;<span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>gencert<span style="color:#f92672">()</span> <span style="color:#f92672">{</span> read -p <span style="color:#e6db74">&#34;Adresse mail : &#34;</span> mail ; $sudo certbot certonly --standalone --preferred-challenges http --email $mail -d $1 ;<span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>rencert<span style="color:#f92672">()</span> <span style="color:#f92672">{</span> $sudo certbot -q renew ;<span style="color:#f92672">}</span>
</span></span></code></pre></div><p>Les aliases de base :</p>
<table>
  <thead>
      <tr>
          <th>Commande</th>
          <th>Description</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>l</td>
          <td>Liste les fichiers et les répertoires</td>
      </tr>
      <tr>
          <td>la</td>
          <td>Même chose que l, dont les cachés</td>
      </tr>
      <tr>
          <td>lr</td>
          <td>Liste les fichiers et les répertoires en récursif</td>
      </tr>
      <tr>
          <td>lra</td>
          <td>Même choseque lr, dont les cachés</td>
      </tr>
      <tr>
          <td>lrt</td>
          <td>Liste les fichiers et les répertoires dans l&rsquo;ordre chronologique</td>
      </tr>
      <tr>
          <td>lart</td>
          <td>Même chose que lrt, dont les cachés</td>
      </tr>
      <tr>
          <td>grep</td>
          <td>Ajoute la gestion de la couleur à grep</td>
      </tr>
      <tr>
          <td>zgrep</td>
          <td>Même chose pour zgrep (grep dans les fichiers compressés)</td>
      </tr>
      <tr>
          <td>vi</td>
          <td>Permet d&rsquo;ouvrir plusieurs fichiers simulatanément</td>
      </tr>
      <tr>
          <td>view</td>
          <td>Même chose pour view</td>
      </tr>
      <tr>
          <td>df</td>
          <td>Commande df, mais sans les volumes temporaires</td>
      </tr>
      <tr>
          <td>psp</td>
          <td>Suivi d&rsquo;une chaîne, permet de rechercher rapidement un process</td>
      </tr>
      <tr>
          <td>iostat</td>
          <td>Commande iostat, mais plus lisible</td>
      </tr>
      <tr>
          <td>ifconfig</td>
          <td>Utilise le programme ip (ifconfig n&rsquo;existe plus sous Debian)</td>
      </tr>
      <tr>
          <td>netstat</td>
          <td>Utilise le programme ss (netstat n&rsquo;existe plus sous Debian)</td>
      </tr>
      <tr>
          <td>ss</td>
          <td>Remplaçant de netstat, mais épuré</td>
      </tr>
      <tr>
          <td>ssp</td>
          <td>Suivi d&rsquo;une chaîne, permet de rechercher rapidement un port d&rsquo;écoute</td>
      </tr>
      <tr>
          <td>md5</td>
          <td>Suivi d&rsquo;une chaîne, pour connaître rapidement un md5</td>
      </tr>
      <tr>
          <td>pubip</td>
          <td>Affiche rapidement l&rsquo;IP publique de la machine</td>
      </tr>
      <tr>
          <td>upgrade</td>
          <td>Lance les opérations d&rsquo;upgrade OS en une seule commande</td>
      </tr>
      <tr>
          <td>wget</td>
          <td>Modifie wget pour autoriser les url https sans certificat valide</td>
      </tr>
      <tr>
          <td>newuser</td>
          <td>Créer un compte de service (pas de $HOME ni de mot de passe)</td>
      </tr>
      <tr>
          <td>halt</td>
          <td>Permet l&rsquo;arrêt de la machine et non seulement le système</td>
      </tr>
      <tr>
          <td>genkey</td>
          <td>Génère une clé au format ed25519 (plus sécurisé que rsa)</td>
      </tr>
      <tr>
          <td>genkeyrsa</td>
          <td>Génère une clé au format rsa en 4096 bits</td>
      </tr>
      <tr>
          <td>copykey</td>
          <td>Parce que je me rappelle jamais de la commande ssh-copy-id</td>
      </tr>
  </tbody>
</table>
<p>Les aliases actifs uniquement dans le cas où les applications sont installées :</p>
<table>
  <thead>
      <tr>
          <th>Commande</th>
          <th>Description</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>top</td>
          <td>Remplace la commande top par htop</td>
      </tr>
      <tr>
          <td>ncdu</td>
          <td>L&rsquo;équivalent de l&rsquo;outil Treesize sous Windows</td>
      </tr>
      <tr>
          <td>ufw</td>
          <td>Un Firewall facile à utiliser, ajoute sudo devant</td>
      </tr>
      <tr>
          <td>ufws</td>
          <td>Affiche le status de ufw, avec les règles numérotées</td>
      </tr>
      <tr>
          <td>diff</td>
          <td>Remplace la commande par colordiff, pour une meilleure lisibilité</td>
      </tr>
      <tr>
          <td>df</td>
          <td>Remplace la commande par duf, bien plus agréable visuellement</td>
      </tr>
      <tr>
          <td>rg</td>
          <td>Un grep récursif, bien plus lisible que le grep de base</td>
      </tr>
      <tr>
          <td>docker</td>
          <td>Ajoute sudo devant, pour gagner du temps</td>
      </tr>
      <tr>
          <td>lzd</td>
          <td>Lance l&rsquo;outil lazydocker (console d&rsquo;administration pour Docker)</td>
      </tr>
  </tbody>
</table>
<p>Et enfin, les fonctions :</p>
<table>
  <thead>
      <tr>
          <th>Commande</th>
          <th>Description</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>cpsave</td>
          <td>Créer une copie en .old d&rsquo;un fichier ou d&rsquo;un dossier spécifié</td>
      </tr>
      <tr>
          <td>zip</td>
          <td>Facilite l&rsquo;utilisation de la commande zip (zip &lt;fichier&gt;)</td>
      </tr>
      <tr>
          <td>tarc</td>
          <td>Créer un tar.gz d&rsquo;un ou plusieurs fichiers ou dossiers passés en paramètre</td>
      </tr>
      <tr>
          <td>tarx</td>
          <td>Pour extraire un ou plusieurs tar.gz passés en paramètre</td>
      </tr>
      <tr>
          <td>gpgc</td>
          <td>Chiffre un fichier en .pgp avec protection par mot de passe</td>
      </tr>
      <tr>
          <td>gpgd</td>
          <td>Déchiffre un ou plusieurs fichiers pgp protégés par mot de passe</td>
      </tr>
      <tr>
          <td>gencert</td>
          <td>Permet de créer un certificat. Une adresse mail sera demandée</td>
      </tr>
      <tr>
          <td>rencert</td>
          <td>Pour renouveler les certificats créés via gencert</td>
      </tr>
  </tbody>
</table>
<h2 id="petit-bonus--les-aliases-de-scripts">
  Petit bonus : les aliases de scripts
  <a href="#petit-bonus--les-aliases-de-scripts" class="h-anchor" aria-hidden="true">#</a>
</h2>
<p>Si vous avez quelques scripts, et que vous voulez y accéder depuis n&rsquo;importe où facilement, vous pouvez ajouter ceci à la fin de votre fichier <code>.bash_aliases</code> :</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e">## Scripts</span>
</span></span><span style="display:flex;"><span>scripts<span style="color:#f92672">=</span>/chemin/vers/vos/scripts
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> <span style="color:#f92672">[</span> -d $scripts <span style="color:#f92672">]</span> ; <span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> i in <span style="color:#66d9ef">$(</span>ls $scripts<span style="color:#66d9ef">)</span> ; <span style="color:#66d9ef">do</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> <span style="color:#f92672">[</span> -f $scripts/$i/$i.sh <span style="color:#f92672">]</span> ; <span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span>            alias $i<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;&#39;</span>$scripts<span style="color:#e6db74">&#39;/&#39;</span>$i<span style="color:#e6db74">&#39;/&#39;</span>$i<span style="color:#e6db74">&#39;.sh&#39;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">fi</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">done</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">fi</span>
</span></span></code></pre></div><p>Via ce petit bloc, un alias sera automatiquement créé pour chaque script qu&rsquo;il trouvera dans un sous dossier qui porte le même nom. Par exemple, si un script nommé <code>test.sh</code> se trouve dans <code>/chemin/vers/vos/scripts/test</code>, un alias test sera créé.
Comme d&rsquo;habitude, en cas de questions, n’hésitez pas &#x1f609;</p>

    </div>
    
      
        <div class="pagination">
          <div class="pagination__title">
            <span class="pagination__title-h"
              >Autres posts</span
            >
            <hr />
          </div>
          <div class="pagination__buttons">
            
              <span class="button previous">
                <a href="https://www.jeremky.fr/posts/installation-et-configuration-dun-raspberry-pi/">
                  <span class="button__icon">←</span>
                  <span class="button__text">Installation et configuration d&#39;un Raspberry Pi</span>
                </a>
              </span>
            
            
              <span class="button next">
                <a href="https://www.jeremky.fr/posts/vi-na-pas-dit-son-dernier-mot/">
                  <span class="button__text">Vi n&#39;a pas dit son dernier mot</span>
                  <span class="button__icon">→</span>
                </a>
              </span>
            
          </div>
        </div>
      
    

    
      
        

      
    
  </article>

      </div>

      
        <footer class="footer">
  <div class="footer__inner">
    
      <a
  href="/"
  class="logo"
  style="text-decoration: none;"
>
  
    <span class="logo__mark"><svg xmlns="http://www.w3.org/2000/svg" class="greater-icon" viewBox="0 0 44 44">
  <path fill="none" d="M15 8l14.729 14.382L15 35.367" />
</svg>
</span>
    <span class="logo__text"
      >JEREMKY.FR</span
    >
    <span class="logo__cursor"></span>
  
</a>

      <div class="copyright">
          <div class="copyright">
        <span>© 2025 Propulsé par <a href="https://gohugo.io" target="_blank" rel="noopener">Hugo</a></span>
      </div>
    
  </div>
</footer>





<script type="text/javascript" src="/bundle.min.js"></script>


      
    </div>

    
  </body>
</html>
