<!DOCTYPE html>
<html lang="fr">
  <head>
    
      <title>
        Surveillez vos applications avec Uptime Kuma ::
        JeremKy.fr
      </title>
    
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta
  name="description"
  content="Uptime Kuma est un outil de surveillance d’état en temps réel qui vous permet de vérifier la disponibilité de vos sites web, serveurs et services. Open-source et auto-hébergé, il dispose d&rsquo;une interface moderne et intuitive.
Installation # Encore et toujours, un fichier docker-compose.yml :
services: uptime-kuma: image: docker.io/louislam/uptime-kuma:1 container_name: uptime-kuma hostname: uptime-kuma networks: - nginx_proxy volumes: - /opt/uptime-kuma:/app/data - /var/run/docker.sock:/var/run/docker.sock:ro restart: always networks: nginx_proxy: external: true Dans les volumes, se trouve le lien avec le fichier docker.sock. Cela permet à Uptime Kuma de monitorer des conteneurs prenant en charge le status (Healthy). Si vous utilisez Podman, remplacez le bloc volumes par le suivant :
"
/>
<meta
  name="keywords"
  content=""
/>
<meta name="robots" content="noodp" />
<link rel="canonical" href="https://www.jeremky.fr/posts/surveillez-vos-applications-avec-uptime-kuma/" />







<link rel="stylesheet" href="/css/style.css" />

<link rel="stylesheet" href="https://www.jeremky.fr/style.css" />


<link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://www.jeremky.fr/img/apple-touch-icon-144-precomposed.png" />
<link rel="shortcut icon" href="https://www.jeremky.fr/img/favicon.png" />


<link href="/fonts/Inter-Italic.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">
<link href="/fonts/Inter-Regular.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">
<link href="/fonts/Inter-Medium.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">
<link href="/fonts/Inter-MediumItalic.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">
<link href="/fonts/Inter-Bold.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">
<link href="/fonts/Inter-BoldItalic.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">



  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Surveillez vos applications avec Uptime Kuma">
  <meta name="twitter:description" content="Uptime Kuma est un outil de surveillance d’état en temps réel qui vous permet de vérifier la disponibilité de vos sites web, serveurs et services. Open-source et auto-hébergé, il dispose d’une interface moderne et intuitive.
Installation # Encore et toujours, un fichier docker-compose.yml :
services: uptime-kuma: image: docker.io/louislam/uptime-kuma:1 container_name: uptime-kuma hostname: uptime-kuma networks: - nginx_proxy volumes: - /opt/uptime-kuma:/app/data - /var/run/docker.sock:/var/run/docker.sock:ro restart: always networks: nginx_proxy: external: true Dans les volumes, se trouve le lien avec le fichier docker.sock. Cela permet à Uptime Kuma de monitorer des conteneurs prenant en charge le status (Healthy). Si vous utilisez Podman, remplacez le bloc volumes par le suivant :">



<meta property="og:url" content="https://www.jeremky.fr/posts/surveillez-vos-applications-avec-uptime-kuma/">
  <meta property="og:site_name" content="JeremKy.fr">
  <meta property="og:title" content="Surveillez vos applications avec Uptime Kuma">
  <meta property="og:description" content="Uptime Kuma est un outil de surveillance d’état en temps réel qui vous permet de vérifier la disponibilité de vos sites web, serveurs et services. Open-source et auto-hébergé, il dispose d’une interface moderne et intuitive.
Installation # Encore et toujours, un fichier docker-compose.yml :
services: uptime-kuma: image: docker.io/louislam/uptime-kuma:1 container_name: uptime-kuma hostname: uptime-kuma networks: - nginx_proxy volumes: - /opt/uptime-kuma:/app/data - /var/run/docker.sock:/var/run/docker.sock:ro restart: always networks: nginx_proxy: external: true Dans les volumes, se trouve le lien avec le fichier docker.sock. Cela permet à Uptime Kuma de monitorer des conteneurs prenant en charge le status (Healthy). Si vous utilisez Podman, remplacez le bloc volumes par le suivant :">
  <meta property="og:locale" content="fr">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2024-12-04T09:09:15+00:00">
    <meta property="article:modified_time" content="2024-12-04T09:09:15+00:00">
    <meta property="article:tag" content="Admin">
    <meta property="article:tag" content="Docker">
    <meta property="article:tag" content="Podman">






  </head>
  <body >
    <div class="container">
      <header class="header">
  <span class="header__inner">
    <a
  href="/"
  class="logo"
  style="text-decoration: none;"
>
  
    <span class="logo__mark"><svg xmlns="http://www.w3.org/2000/svg" class="greater-icon" viewBox="0 0 44 44">
  <path fill="none" d="M15 8l14.729 14.382L15 35.367" />
</svg>
</span>
    <span class="logo__text"
      >JEREMKY.FR</span
    >
    <span class="logo__cursor"></span>
  
</a>

    <span class="header__right">
      
        <nav class="menu">
  <ul class="menu__inner menu__inner--desktop">
    
      
        
          <li><a href="/apropos">A propos</a></li>
        
      
        
          <li><a href="/archives">Archives</a></li>
        
      
        
          <li><a href="/categories/news">News</a></li>
        
      
        
          <li><a href="/categories/tutos">Tutos</a></li>
        
      
      
      
  </ul>

  <ul class="menu__inner menu__inner--mobile">
    
      
        <li><a href="/apropos">A propos</a></li>
      
    
      
        <li><a href="/archives">Archives</a></li>
      
    
      
        <li><a href="/categories/news">News</a></li>
      
    
      
        <li><a href="/categories/tutos">Tutos</a></li>
      
    
  </ul>
</nav>

        <span class="menu-trigger">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M0 0h24v24H0z" fill="none" />
            <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z" />
          </svg>
        </span>
      
      <span class="theme-toggle">
        <svg
  class="theme-toggler"
  width="24"
  height="24"
  viewBox="0 0 48 48"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    d="M22 41C32.4934 41 41 32.4934 41 22C41 11.5066 32.4934 3 22
  3C11.5066 3 3 11.5066 3 22C3 32.4934 11.5066 41 22 41ZM7 22C7
  13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22Z"
  />
</svg>

      </span>
    </span>
  </span>
</header>


      <div class="content">
        
  
  

  <article class="post">
    <h1 class="post-title">Surveillez vos applications avec Uptime Kuma</h1>
    <div class="post-meta">
      
        <time class="post-date">
          04/12/2024
        </time>

        
          
        
      

      


      
        <span class="post-read-time"
          >— 4 min de lecture</span
        >
      
    </div>

    
      <span class="post-tags">
        
          <a href="https://www.jeremky.fr/tags/admin/">#admin</a>&nbsp;
        
          <a href="https://www.jeremky.fr/tags/docker/">#docker</a>&nbsp;
        
          <a href="https://www.jeremky.fr/tags/podman/">#podman</a>&nbsp;
        
      </span>
    

    
      <figure class="post-cover">
  
    <img src="https://www.jeremky.fr/img/posts/surveillez-vos-applications-avec-uptime-kuma/cover.webp" alt="Surveillez vos applications avec Uptime Kuma" width="700" />
  

  
</figure>

    

    <div class="post-content">
      
        
        <h2>Sommaire</h2>
        <aside class="table-of-contents"><nav id="TableOfContents">
  <ul>
    <li><a href="#installation">Installation</a>
      <ul>
        <li><a href="#reverse-proxy">Reverse proxy</a></li>
      </ul>
    </li>
    <li><a href="#configuration">Configuration</a>
      <ul>
        <li><a href="#notifications">Notifications</a></li>
        <li><a href="#docker">Docker</a></li>
      </ul>
    </li>
    <li><a href="#sondes">Sondes</a>
      <ul>
        <li><a href="#https">HTTP(s)</a></li>
        <li><a href="#tcp">TCP</a></li>
        <li><a href="#docker-1">Docker</a></li>
      </ul>
    </li>
    <li><a href="#pages-de-statut">Pages de statut</a></li>
    <li><a href="#conclusion">Conclusion</a></li>
  </ul>
</nav></aside>
        
      
      <p><a href="https://uptime.kuma.pet/">Uptime Kuma</a> est un outil de surveillance d’état en temps réel qui vous permet de vérifier la disponibilité de vos sites web, serveurs et services. Open-source et auto-hébergé, il dispose d&rsquo;une interface moderne et intuitive.</p>
<h2 id="installation">
  Installation
  <a href="#installation" class="h-anchor" aria-hidden="true">#</a>
</h2>
<p>Encore et toujours, un fichier <code>docker-compose.yml</code> :</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yml" data-lang="yml"><span style="display:flex;"><span><span style="color:#f92672">services</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">uptime-kuma</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">image</span>: <span style="color:#ae81ff">docker.io/louislam/uptime-kuma:1</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">container_name</span>: <span style="color:#ae81ff">uptime-kuma</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">hostname</span>: <span style="color:#ae81ff">uptime-kuma</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">networks</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ae81ff">nginx_proxy</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">volumes</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ae81ff">/opt/uptime-kuma:/app/data</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#ae81ff">/var/run/docker.sock:/var/run/docker.sock:ro</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">restart</span>: <span style="color:#ae81ff">always</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">networks</span>:
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">nginx_proxy</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">external</span>: <span style="color:#66d9ef">true</span>
</span></span></code></pre></div><p>Dans les volumes, se trouve le lien avec le fichier <code>docker.sock</code>. Cela permet à Uptime Kuma de monitorer des conteneurs prenant en charge le status (Healthy). Si vous utilisez Podman, remplacez le bloc volumes par le suivant :</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yml" data-lang="yml"><span style="display:flex;"><span>    <span style="color:#f92672">volumes</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#ae81ff">/opt/uptime-kuma:/app/data</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#ae81ff">/var/run/podman/podman.sock:/var/run/docker.sock:ro</span>
</span></span></code></pre></div><h3 id="reverse-proxy">
  Reverse proxy
  <a href="#reverse-proxy" class="h-anchor" aria-hidden="true">#</a>
</h3>
<p>Les fichiers de configuration ci-dessus sont prévus pour être utilisé avec un reverse proxy.</p>
<blockquote>
<p>Pour rappel, un article dédié est <a href="/posts/reverse-proxy-nginx/">disponible ici</a>.</p></blockquote>
<p>L&rsquo;image Docker de <a href="https://docs.linuxserver.io/general/swag/">Linuxserver.io</a> propose un fichier sample de configuration, il vous suffit juste de modifier votre nom de domaine en conséquence :</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo cp /opt/nginx/nginx/proxy-confs/uptime-kuma.subdomain.conf.sample /opt/nginx/nginx/proxy-confs/uptime-kuma.subdomain.conf
</span></span><span style="display:flex;"><span>sudo sed -i <span style="color:#e6db74">&#34;s,server_name uptime-kuma,server_name &lt;votre_sous_domaine&gt;,g&#34;</span> /opt/nginx/nginx/proxy-confs/uptime-kuma.subdomain.conf
</span></span></code></pre></div><p>Et enfin, un petit redémarrage pour la prise en compte du nouveau fichier :</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo docker restart nginx
</span></span></code></pre></div><h2 id="configuration">
  Configuration
  <a href="#configuration" class="h-anchor" aria-hidden="true">#</a>
</h2>
<p>A la première connexion à l’interface, Il vous sera demandé de créer un identifiant de connexion.</p>

  <img src="/img/posts/surveillez-vos-applications-avec-uptime-kuma/login.webp"  class="center"  style="border-radius: 8px;"  />


<p>Il est toutefois possible de le désactiver dans le cas où vous utiliseriez un service d’authentification externe comme Authelia. Pour cela, rendez-vous dans <code>Sécurité</code> et cliquez sur <code>Désactiver l'authentification</code>.</p>

  <img src="/img/posts/surveillez-vos-applications-avec-uptime-kuma/notif.webp"  class="center"  style="border-radius: 8px;"  />


<h3 id="notifications">
  Notifications
  <a href="#notifications" class="h-anchor" aria-hidden="true">#</a>
</h3>
<p>Uptime Kuma propose un service de notification. Une longue liste d&rsquo;application est compatible, notamment par e-mail,Discord, Telegram, Teams&hellip;</p>
<p>Il vous notifiera lorsque un service est tombé, mais vous pouvez aussi demandé une alerte lorsque l&rsquo;un de vos certificat SSL arrivera à expiration.</p>

  <img src="/img/posts/surveillez-vos-applications-avec-uptime-kuma/notif.webp"  class="center"  style="border-radius: 8px;"  />


<h3 id="docker">
  Docker
  <a href="#docker" class="h-anchor" aria-hidden="true">#</a>
</h3>
<p>Si vous souhaitez contrôler vos conteneurs via le système de statut, vous devrez ajouter une configuration. Toujours dans les paramètres, rendez vous dans <code>Hôtes Docker</code> et cliquez sur <code>Configurer l'hôte Docker</code>, afin de lui indiquer l’emplacement du fichier <code>docker.sock</code>.</p>

  <img src="/img/posts/surveillez-vos-applications-avec-uptime-kuma/docker.webp"  class="center"  style="border-radius: 8px;"  />


<h2 id="sondes">
  Sondes
  <a href="#sondes" class="h-anchor" aria-hidden="true">#</a>
</h2>
<p>Maintenant que la configuration initiale est terminée, cliquez sur <code>Ajouter une nouvelle sonde</code> pour commencer à alimenter vos surveillances.</p>
<p>Afin d’effectuer vos contrôles, Uptime Kuma dispose de plusieurs méthodes d’authentification. Voici les principaux que j’ai utilisé pour mes différents contrôles.</p>
<h3 id="https">
  HTTP(s)
  <a href="#https" class="h-anchor" aria-hidden="true">#</a>
</h3>
<p>C&rsquo;est en théorie celui que vous allez utiliser le plus souvent. Pour contrôler vos applications Web hébergées sous Docker, je vous recommande de bypass votre reverse proxy et de dialoguer directement avec le conteneur concerné (surtout si vous utilisez le service Authelia). Exemple Le logiciel Pairdrop :</p>

  <img src="/img/posts/surveillez-vos-applications-avec-uptime-kuma/pairdrop.webp"  class="center"  style="border-radius: 8px;"  />


<p>Dans l&rsquo;url, spécifiez le nom du conteneur, ainsi que le port. A noter que c&rsquo;est bien le protocole http qui est utilisé, puisque c&rsquo;est le reverse proxy qui se charge de sécuriser la connexion.</p>
<h3 id="tcp">
  TCP
  <a href="#tcp" class="h-anchor" aria-hidden="true">#</a>
</h3>
<p>N&rsquo;ayant pas d&rsquo;application non redirigée sur mon reverse proxy, un bonne façon de le tester est d&rsquo;effectuer un check de son port d&rsquo;écoute :</p>

  <img src="/img/posts/surveillez-vos-applications-avec-uptime-kuma/tcp.webp"  class="center"  style="border-radius: 8px;"  />


<h3 id="docker-1">
  Docker
  <a href="#docker-1" class="h-anchor" aria-hidden="true">#</a>
</h3>
<p>Les surveillances précédentes ne fonctionnent que si vos conteneurs se trouvent dans le même réseau. Dans le cas contraire, la seule solution est de contrôler l&rsquo;état de votre conteneur directement.</p>
<p>Pour cela, votre conteneur doit disposer du statut <code>Healthy</code>. Si l&rsquo;image utilisée n&rsquo;a pas cette fonctionnalité en place, il est possible de le configurer dans le fichier <code>docker-compose.yml</code>. Pour cela, rajoutez la section suivante :</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yml" data-lang="yml"><span style="display:flex;"><span><span style="color:#f92672">healthcheck</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">test</span>: [<span style="color:#e6db74">&#34;CMD&#34;</span>, <span style="color:#e6db74">&#34;pgrep&#34;</span>, <span style="color:#e6db74">&#34;&lt;votre_process&gt;&#34;</span>]
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">interval</span>: <span style="color:#ae81ff">30s</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">timeout</span>: <span style="color:#ae81ff">10s</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">retries</span>: <span style="color:#ae81ff">3</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">start_period</span>: <span style="color:#ae81ff">10s</span>
</span></span></code></pre></div><p>Il est possible de faire d&rsquo;autres types de test, via <code>curl</code> ou <code>wget</code> par exemple. Mais autant utiliser la fonctionnalité de test http à la place.</p>
<p>Une fois votre conteneur redémarré, il vous suffit d&rsquo;ajouter une surveillance de type <code>conteneur docker</code> et de choisir l’hôte Docker configuré précédemment :</p>

  <img src="/img/posts/surveillez-vos-applications-avec-uptime-kuma/serv.webp"  class="center"  style="border-radius: 8px;"  />


<h2 id="pages-de-statut">
  Pages de statut
  <a href="#pages-de-statut" class="h-anchor" aria-hidden="true">#</a>
</h2>
<p>Il est possible de créer des pages de statut accessibles publiquement. Rendez-vous en haut à droite pour créer une nouvelle page. Nommez-là pour arriver à la page de configuration. De là, vous pourrez ajouter les sondes, ajouter un pied de page&hellip;</p>

  <img src="/img/posts/surveillez-vos-applications-avec-uptime-kuma/statconf.webp"  class="center"  style="border-radius: 8px;"  />


<p>Une fois la page créée, celle-ci est accessible au lien <code>/status/jeux</code> :</p>

  <img src="/img/posts/surveillez-vos-applications-avec-uptime-kuma/status.webp"  class="center"  style="border-radius: 8px;"  />


<h2 id="conclusion">
  Conclusion
  <a href="#conclusion" class="h-anchor" aria-hidden="true">#</a>
</h2>
<p>Légère, facile à configurer, Uptime Kuma est une solution vraiment pertinente pour avoir un système de surveillance de vos applications. Ce soft ne dispose pas de statistiques avancées comme peut proposer Nagios avec Grafana. Mais il se concentre sur l’essentiel, à savoir nous avertir en cas de problème, idéal pour une utilisation personnelle.</p>
<p>Le développeur propose un autre logiciel ayant la même interface pour faciliter vos déploiements avec Docker Compose : <a href="https://github.com/louislam/dockge">Dockge</a>. Il semble bien plus léger que <a href="/portainer-administrer-vos-conteneurs-via-une-interface-web/">Portainer</a>, mais ne permet pas d&rsquo;utiliser l&rsquo;auto-update de Podman&hellip; Malheureusement. Si toutefois l&rsquo;un d&rsquo;entre vous est intéressé par un article à son sujet, n&rsquo;hésitez pas à m&rsquo;en faire la demande par <a href="mailto:contact@jeremky.fr">e-mail</a>.</p>

    </div>
    
      
        <div class="pagination">
          <div class="pagination__title">
            <span class="pagination__title-h"
              >Autres posts</span
            >
            <hr />
          </div>
          <div class="pagination__buttons">
            
              <span class="button previous">
                <a href="https://www.jeremky.fr/posts/ariang-centralisez-vos-telechargements/">
                  <span class="button__icon">←</span>
                  <span class="button__text">AriaNG : centralisez vos téléchargements</span>
                </a>
              </span>
            
            
              <span class="button next">
                <a href="https://www.jeremky.fr/posts/diun-etre-notifie-des-nouvelles-images-docker/">
                  <span class="button__text">Diun : être notifié des nouvelles images Docker</span>
                  <span class="button__icon">→</span>
                </a>
              </span>
            
          </div>
        </div>
      
    

    
      
        

      
    
  </article>

      </div>

      
        <footer class="footer">
  <div class="footer__inner">
    
      <a
  href="/"
  class="logo"
  style="text-decoration: none;"
>
  
    <span class="logo__mark"><svg xmlns="http://www.w3.org/2000/svg" class="greater-icon" viewBox="0 0 44 44">
  <path fill="none" d="M15 8l14.729 14.382L15 35.367" />
</svg>
</span>
    <span class="logo__text"
      >JEREMKY.FR</span
    >
    <span class="logo__cursor"></span>
  
</a>

      <div class="copyright">
          <div class="copyright">
        <span>© 2025 Propulsé par <a href="https://gohugo.io" target="_blank" rel="noopener">Hugo</a></span>
      </div>
    
  </div>
</footer>





<script type="text/javascript" src="/bundle.min.js"></script>


      
    </div>

    
  </body>
</html>
